var e=Object.assign;import{p as t,a,r as s,o as r,c as l,b as n,t as o,w as u,d as c,e as i,F as p,f as d,g as m,h,i as v,j as y,u as f,k as g,l as b,m as _,n as q,q as k,v as w,s as C,x as R,y as I,z as M,A as j,T as O,B as F,C as T,D as U,E as $}from"./vendor.918e485a.js";!function(e=".",t="__import__"){try{self[t]=new Function("u","return import(u)")}catch(a){const s=new URL(e,location),r=e=>{URL.revokeObjectURL(e.src),e.remove()};self[t]=e=>new Promise(((a,l)=>{const n=new URL(e,s);if(self[t].moduleMap[n])return a(self[t].moduleMap[n]);const o=new Blob([`import * as m from '${n}';`,`${t}.moduleMap['${n}']=m;`],{type:"text/javascript"}),u=Object.assign(document.createElement("script"),{type:"module",src:URL.createObjectURL(o),onerror(){l(new Error(`Failed to import: ${e}`)),r(u)},onload(){a(self[t].moduleMap[n]),r(u)}});document.head.appendChild(u)})),self[t].moduleMap={}}}("/vue-3-essentials-demo/assets/");t("data-v-ffdff048"),a();const D={props:{title:{type:String,required:!0}},methods:{loadRandomRecipe(e){e.preventDefault(),fetch("https://www.themealdb.com/api/json/v1/1/random.php").then((e=>e.json())).then((e=>{this.$router.push({path:"/recipe",query:{id:e.meals[0].idMeal}})}))}},computed:{formattedTitle(){let e=this.title.split(" ");return e=e.map((e=>e[0].toUpperCase()+e.substring(1))),e.join(" ")}}},P=u("data-v-5f2d18bf");t("data-v-5f2d18bf");const Q={class:"header"},S={class:"logo"},x=n("img",{src:"/vue-3-essentials-demo/assets/recipe-logo.f5e59c17.png"},null,-1),L=c(" Home ");a();const E=P(((e,t,a,u,c,i)=>{const p=s("router-link");return r(),l("div",Q,[n("div",S,[x,n("h2",null,o(i.formattedTitle),1)]),n("nav",null,[n(p,{to:"/"},{default:P((()=>[L])),_:1}),n("a",{href:"#",onClick:t[1]||(t[1]=(...e)=>i.loadRandomRecipe&&i.loadRandomRecipe(...e))}," Random Recipe ")])])}));D.render=E,D.__scopeId="data-v-5f2d18bf";const A={props:{id:{type:String,required:!0},recipeName:{type:String,required:!0},thumbnail:{type:String,required:!0},category:{type:String,required:!0},tags:{type:Array,validator:e=>!e||e.every((e=>"string"==typeof e))}}},V={class:"recipe-card"},Y={class:"recipe-card__info"};A.render=function(e,t,a,u,c,m){const h=s("router-link");return r(),l("div",V,[n(h,{to:{path:"/recipe",query:{id:a.id}}},{default:i((()=>[n("img",{src:a.thumbnail},null,8,["src"])])),_:1},8,["to"]),n("div",Y,[n("h5",null,o(a.category),1),n(h,{to:{path:"/recipe",query:{id:a.id}}},{default:i((()=>[n("h3",null,o(a.recipeName),1)])),_:1},8,["to"]),n("ul",null,[(r(!0),l(p,null,d(a.tags,(e=>(r(),l("li",{key:e},o(e),1)))),128))])])])};const B={components:{RecipeCard:A},setup(){const{currentQuery:t,query:a,meals:s,search:r}=function(){const t=h({query:"",currentQuery:"",meals:[]});let a;v((()=>{console.log("updated")})),y((()=>{clearTimeout(a);let e=t.query;a=setTimeout((()=>{console.log(e)}),1e3)}));const s=f(),r=g(),l=()=>{if(0==t.query.trim().length)return t.meals=[],t.currentQuery="",void r.push("/");fetch("https://www.themealdb.com/api/json/v1/1/search.php?s="+t.query).then((e=>e.json())).then((e=>{t.meals=e.meals,t.currentQuery=t.query,r.push("/?q="+t.query)}))};return s.query.q&&(t.query=s.query.q,l()),e(e({},m(t)),{search:l})}(),l=b(""),n=b(null);_((()=>{console.log(n.value),n.value.focus()}));const o=q((()=>0==l.value.length?s.value:s.value.filter((e=>e.strCategory&&e.strCategory==l.value)))),u=q((()=>{let e=[];return s.value.forEach((t=>{t.strCategory&&-1==e.indexOf(t.strCategory)&&e.push(t.strCategory)})),e}));return{currentQuery:t,filteredMeals:o,meals:s,query:a,search:r,searchFilter:l,searchFilterOptions:u,searchInput:n}}},N=u("data-v-1f4cc435");t("data-v-1f4cc435");const W={class:"home"},z={class:"search"},H=n("h1",null,"Find a Recipe",-1),K={class:"results"},X={key:0,class:"results-header"},G=c(" Filter results "),J=n("option",{value:""},"View All",-1),Z={class:"results-cards"};a();const ee=N(((e,t,a,u,c,i)=>{const m=s("recipe-card");return r(),l("div",W,[n("div",z,[H,k(n("input",{type:"text",placeholder:"Enter a recipe name","onUpdate:modelValue":t[1]||(t[1]=e=>u.query=e),onKeydown:t[2]||(t[2]=C(((...e)=>u.search&&u.search(...e)),["enter"])),ref:"searchInput"},null,544),[[w,u.query]]),n("button",{onClick:t[3]||(t[3]=(...e)=>u.search&&u.search(...e))},"Search")]),n("div",K,[u.currentQuery.length>0?(r(),l("div",X,[n("p",null,o(u.meals.length)+" results for "+o(u.currentQuery),1),n("p",null,[G,k(n("select",{"onUpdate:modelValue":t[4]||(t[4]=e=>u.searchFilter=e)},[J,(r(!0),l(p,null,d(u.searchFilterOptions,(e=>(r(),l("option",{key:e,value:e},o(e),9,["value"])))),128))],512),[[R,u.searchFilter]])])])):I("",!0),n("div",Z,[(r(!0),l(p,null,d(u.filteredMeals,(e=>(r(),l(m,{key:e.idMeal,id:e.idMeal,"recipe-name":e.strMeal,category:e.strCategory,thumbnail:e.strMealThumb,tags:e.strTags?e.strTags.split(","):[]},null,8,["id","recipe-name","category","thumbnail","tags"])))),128))])])])}));B.render=ee,B.__scopeId="data-v-1f4cc435";const te={expose:[],setup:e=>(e,t)=>{const a=s("router-view");return r(),l(p,null,[n(D,{title:"my recipe"}),n(a,{key:e.$route.meta.key?e.$route.meta.key(e.$route):"default"})],64)}};const ae={setup(e,t){const a=b(null),s=()=>{t.emit("close")};return M(a,s),{closePopup:s,content:a}}},se=u("data-v-518e907e");t("data-v-518e907e");const re={key:0,class:"popup"},le={class:"popup-content",ref:"content"},ne=c(" Popup Window Fallback ");a();const oe=se(((e,t,a,s,o,u)=>(r(),l("div",re,[n("div",le,[n("div",{class:"close",onClick:t[1]||(t[1]=(...e)=>s.closePopup&&s.closePopup(...e))},"X"),j(e.$slots,"default",{},(()=>[ne]))],512)]))));ae.render=oe,ae.__scopeId="data-v-518e907e";const ue={components:{Popup:ae},props:{videoID:{type:String,required:!0}}};ue.render=function(e,t,a,o,u,c){const p=s("popup");return r(),l(p,null,{default:i((()=>[n("iframe",{width:"560",height:"315",frameborder:"0",allowfullscreen:"",src:"https://youtube.com/embed/"+a.videoID},null,8,["src"])])),_:1})};const ce={components:{YoutubePopup:ue},setup(){const e=f(),t=g(),a=e.query.id,s=b(!1),r=b(null),l=q((()=>r.value.strTags?r.value.strTags.split(","):[])),n=q((()=>r.value.strInstructions.split("\r\n").filter((e=>e.length>0)))),o=q((()=>{let e=[];for(var t=1;t<=20;t++)r.value["strIngredient"+t]&&e.push({name:r.value["strIngredient"+t],amount:r.value["strMeasure"+t]});return e}));return fetch("https://www.themealdb.com/api/json/v1/1/lookup.php?i="+a).then((e=>e.json())).then((e=>{r.value=e.meals[0]})).catch((e=>{t.push("/")})),{directions:n,ingredients:o,meal:r,popupOpen:s,tags:l}}},ie=u("data-v-94ca13f8");t("data-v-94ca13f8");const pe={key:0,class:"recipe"},de={class:"recipe-header"},me={class:"recipe-header__text"},he={key:0,class:"recipe-tags"},ve={class:"recipe-content"},ye={class:"ingredients"},fe=n("h2",null,"Ingredients",-1),ge={class:"directions"},be=n("h2",null,"Directions",-1);a();const _e=ie(((e,t,a,u,c,i)=>{const m=s("youtube-popup");return u.meal?(r(),l("div",pe,[(r(),l(O,{to:"#teleport-target"},[n(F,{"enter-active-class":"animate__animated animate__fadeInDown","leave-active-class":"animate__animated animate__fadeOutUp"},{default:ie((()=>[u.popupOpen?(r(),l(m,{key:0,onClose:t[1]||(t[1]=e=>u.popupOpen=!1),videoID:u.meal.strYoutube.split("?v=")[1]},null,8,["videoID"])):I("",!0)])),_:1})])),n("div",de,[n("img",{src:u.meal.strMealThumb},null,8,["src"]),n("div",me,[n("h3",null,o(u.meal.strCategory),1),n("h1",null,o(u.meal.strMeal),1),n("button",{onClick:t[2]||(t[2]=e=>u.popupOpen=!0)},"Watch on Youtube"),u.tags?(r(),l("ul",he,[(r(!0),l(p,null,d(u.tags,(e=>(r(),l("li",{key:e},o(e),1)))),128))])):I("",!0)])]),n("div",ve,[n("div",ye,[fe,n("ul",null,[(r(!0),l(p,null,d(u.ingredients,(e=>(r(),l("li",{key:e.name},o(e.name)+" - "+o(e.amount),1)))),128))])]),n("div",ge,[be,n("ol",null,[(r(!0),l(p,null,d(u.directions,(e=>(r(),l("li",{key:e},o(e),1)))),128))])])])])):I("",!0)}));ce.render=_e,ce.__scopeId="data-v-94ca13f8";const qe=T({history:U("/vue-3-essentials-demo/"),routes:[{path:"/",component:B,meta:{key:()=>"default"}},{path:"/recipe",component:ce,meta:{key:e=>e.fullPath}}]}),ke=$(te);ke.use(qe),ke.mount("#app");
